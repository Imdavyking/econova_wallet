<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //wait for 5 seconds
      setTimeout(async () => {
        const myTypedData = {
          types: {
            StarkNetDomain: [
              { name: "name", type: "string" },
              { name: "version", type: "string" },
              { name: "chainId", type: "string" },
            ],
            Airdrop: [
              { name: "address", type: "string" },
              { name: "amount", type: "string" },
            ],
            Validate: [
              { name: "id", type: "string" },
              { name: "from", type: "string" },
              { name: "amount", type: "string" },
              { name: "nameGamer", type: "string" },
              { name: "endDate", type: "string" },
              { name: "itemsAuthorized", type: "string*" }, // array of string
              { name: "chkFunction", type: "selector" }, // name of function
              { name: "rootList", type: "merkletree", contains: "Airdrop" }, // root of a merkle tree
            ],
          },
          primaryType: "Validate",
          domain: {
            name: "myDapp",
            version: "1",
            chainId: "0x534e5f5345504f4c4941",
            message: {
              id: "0x0000004f000f",
              from: "0x2c94f628d125cd0e86eaefea735ba24c262b9a441728f63e5776661829a4066",
              amount: "400",
              nameGamer: "Hector26",
              endDate:
                "0x27d32a3033df4277caa9e9396100b7ca8c66a4ef8ea5f6765b91a7c17f0109c",
              itemsAuthorized: ["0x01", "0x03", "0x0a", "0x0e"],
              chkFunction: "check_authorization",
              rootList: [
                {
                  address:
                    "0x69b49c2cc8b16e80e86bfc5b0614a59aa8c9b601569c7b80dde04d3f3151b79",
                  amount: "1554785",
                },
              ],
            },
          },
        };

        const res = await window.starknet.request({
          type: "wallet_signTypedData",
          params: myTypedData,
        });

        // resp = ["0x490864293786342333657489548354947743460397232672997805795441858116745355019", "0x2855273948349341532300559537680769749551471477465497884530979636925080056604"]
      }, 5000);
    </script>
  </body>
</html>
